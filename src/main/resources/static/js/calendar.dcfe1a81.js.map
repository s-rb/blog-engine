{"version":3,"sources":["webpack:///./src/pages/Calendar.vue?d5a6","webpack:///./src/pages/Calendar.vue?e857","webpack:///src/pages/Calendar.vue","webpack:///./src/pages/Calendar.vue?1dc3","webpack:///./src/pages/Calendar.vue","webpack:///./node_modules/core-js/modules/es.array.find-index.js","webpack:///./node_modules/core-js/modules/es.array.map.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","years","activeYearIndex","year","posts","staticRenderFns","name","components","BaseNavbar","CalendarTable","data","Date","getFullYear","errors","computed","watch","$route","getPostsCount","beforeRouteUpdate","to","params","next","methods","mounted","then","metaInfo","title","blogInfo","component","$","$findIndex","findIndex","addToUnscopables","arrayMethodUsesToLength","FIND_INDEX","SKIPS_HOLES","USES_TO_LENGTH","Array","target","proto","forced","callbackfn","arguments","length","undefined","$map","map","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT"],"mappings":"4GAAA,yBAA6gB,EAAG,G,yCCAhhB,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACE,YAAY,oBAAoB,CAACF,EAAG,aAAa,CAACG,MAAM,CAAC,UAAY,eAAe,SAAWP,EAAIQ,MAAM,eAAiBR,EAAIS,mBAAmBL,EAAG,gBAAgB,CAACG,MAAM,CAAC,KAAOP,EAAIU,KAAK,MAAQV,EAAIW,UAAU,IACzTC,EAAkB,G,+GCetB,oBACA,6CACA,oBACA,gDAIA,GACEC,KAAM,WAENC,WAAY,CACVC,WAAJ,EACIC,cAAJ,GAGEC,KARF,WASI,MAAO,CACLR,gBAAiB,EACjBD,MAAO,GACPE,MAAM,IAAIQ,MAAOC,cACjBR,MAAO,GACPS,OAAQ,KAIZC,SAAU,OAAZ,OAAY,CAAZ,GACA,uCAGEC,MAAO,CACLC,OADJ,WAEMtB,KAAKuB,kBAITC,kBA5BF,SA4BA,OACIxB,KAAKS,MAAQgB,EAAGC,OAAOjB,KACvBkB,KAGFC,QAAS,CACPL,cADJ,WACA,WACM,OAAO,EAAb,EACA,IADA,UACA,gBADA,8BACA,YACA,kBACA,uCACU,EAAV,oCACY,MAAZ,CAAc,KAAd,UAAc,MAAd,cAEU,EAAV,uBAGA,mBACQ,EAAR,oBAKEM,QAnDF,WAmDA,WACI7B,KAAKS,MAAQT,KAAKsB,OAAOI,OAAOjB,KAChCT,KAAKuB,gBAAgBO,MAAK,WACxB,EAAN,mCACA,YAAQ,OAAR,qCAKEC,SA5DF,WA6DI,MAAO,CACLC,MAAOhC,KAAKiC,SAAlB,sBACA,oBADA,cACA,wBACA,eCvFkV,I,wBCQ9UC,EAAY,eACd,EACApC,EACAa,GACA,EACA,KACA,KACA,MAIa,aAAAuB,E,2CClBf,IAAIC,EAAI,EAAQ,QACZC,EAAa,EAAQ,QAAgCC,UACrDC,EAAmB,EAAQ,QAC3BC,EAA0B,EAAQ,QAElCC,EAAa,YACbC,GAAc,EAEdC,EAAiBH,EAAwBC,GAGzCA,IAAc,IAAIG,MAAM,GAAGH,IAAY,WAAcC,GAAc,KAIvEN,EAAE,CAAES,OAAQ,QAASC,OAAO,EAAMC,OAAQL,IAAgBC,GAAkB,CAC1EL,UAAW,SAAmBU,GAC5B,OAAOX,EAAWpC,KAAM+C,EAAYC,UAAUC,OAAS,EAAID,UAAU,QAAKE,MAK9EZ,EAAiBE,I,yDCtBjB,IAAIL,EAAI,EAAQ,QACZgB,EAAO,EAAQ,QAAgCC,IAC/CC,EAA+B,EAAQ,QACvCd,EAA0B,EAAQ,QAElCe,EAAsBD,EAA6B,OAEnDX,EAAiBH,EAAwB,OAK7CJ,EAAE,CAAES,OAAQ,QAASC,OAAO,EAAMC,QAASQ,IAAwBZ,GAAkB,CACnFU,IAAK,SAAaL,GAChB,OAAOI,EAAKnD,KAAM+C,EAAYC,UAAUC,OAAS,EAAID,UAAU,QAAKE","file":"js/calendar.dcfe1a81.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendar.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendar.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',{staticClass:\"Calendar Wrapper\"},[_c('BaseNavbar',{attrs:{\"className\":\"Calendar-Nav\",\"navItems\":_vm.years,\"activeNavIndex\":_vm.activeYearIndex}}),_c('CalendarTable',{attrs:{\"year\":_vm.year,\"posts\":_vm.posts}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <main class=\"Calendar Wrapper\">\n    <BaseNavbar\n      className=\"Calendar-Nav\"\n      :navItems=\"years\"\n      :activeNavIndex=\"activeYearIndex\"\n    />\n    <CalendarTable :year=\"year\" :posts=\"posts\" />\n  </main>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nimport { handleResponseErrors } from \"@/utils\";\nimport axios from \"axios\";\nimport { SERVER_URL } from \"./../env\";\nconst BaseNavbar = () =>\n  import(/* webpackChunkName: \"baseNavbar\" */ \"@/components/BaseNavbar.vue\");\nconst CalendarTable = () =>\n  import(\n    /* webpackChunkName: \"calendarTable\" */ \"@/components/CalendarTable.vue\"\n  );\n\nexport default {\n  name: \"Calendar\",\n\n  components: {\n    BaseNavbar,\n    CalendarTable\n  },\n\n  data() {\n    return {\n      activeYearIndex: 0,\n      years: [],\n      year: new Date().getFullYear(),\n      posts: {},\n      errors: []\n    };\n  },\n\n  computed: {\n    ...mapGetters([\"blogInfo\"])\n  },\n\n  watch: {\n    $route() {\n      this.getPostsCount();\n    }\n  },\n\n  beforeRouteUpdate(to, from, next) {\n    this.year = +to.params.year;\n    next();\n  },\n\n  methods: {\n    getPostsCount() {\n      return axios\n        .get(`${SERVER_URL}/api/calendar?year=${this.year}`)\n        .then(res => {\n          if (!handleResponseErrors(res)) {\n            this.years = res.data.years.map(year => {\n              return { name: String(year), value: String(year) };\n            });\n            this.posts = res.data.posts;\n          }\n        })\n        .catch(e => {\n          this.errors.push(e);\n        });\n    }\n  },\n\n  mounted() {\n    this.year = +this.$route.params.year;\n    this.getPostsCount().then(() => {\n      this.activeYearIndex = this.years.findIndex(\n        item => item.value == this.$route.params.year\n      );\n    });\n  },\n\n  metaInfo() {\n    return {\n      title: this.blogInfo\n        ? `Календарь | ${this.blogInfo.title} - ${this.blogInfo.subtitle}`\n        : \"Календарь\"\n    };\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.Calendar {\n  margin-bottom: 20px;\n\n  &-Nav {\n    margin-bottom: 30px;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Calendar.vue?vue&type=template&id=f586cbf6&\"\nimport script from \"./Calendar.vue?vue&type=script&lang=js&\"\nexport * from \"./Calendar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Calendar.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $findIndex = require('../internals/array-iteration').findIndex;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar FIND_INDEX = 'findIndex';\nvar SKIPS_HOLES = true;\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength(FIND_INDEX);\n\n// Shouldn't skip holes\nif (FIND_INDEX in []) Array(1)[FIND_INDEX](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.findIndex` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.findindex\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH }, {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $findIndex(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND_INDEX);\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}